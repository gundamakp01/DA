import{c as m,u as y,r as p,m as $,a as b,e as P}from"./index.f2c07c68.js";import{_ as U,u as k,r as S,c as i,b as r,d as D,w as M,t as d,j as _,v as h,F as l,f as c,k as v,o,p as V,m as N}from"./index.e681a6ad.js";import{U as w}from"./UserService.faccd78c.js";import{P as q,D as C,W as E}from"./DistrictService.05328860.js";import{_ as F}from"./logo.d15f1ef9.js";m.regex(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,20}$/);const B={name:"signup",setup:()=>({v$:y()}),data(){return{name:"",email:"",password:"",confirm_password:"",phone_number:"",errorCode:"",provider:"",province_id:null,provinces:[],district_id:null,districts:[],ward_id:null,wards:[]}},validations(){return{name:{required:m.withMessage("* Please type Your User Name.",p),minLength:$(3),maxLength:b(20)},email:{required:m.withMessage("* Please type Your Email Address.",p),email:P},phone_number:{required:m.withMessage("* Please type Your Phone Number.",p)},province_id:{required:m.withMessage("* Please select your province.",p)},district_id:{required:m.withMessage("* Please select your district.",p)},ward_id:{required:m.withMessage("* Please select your ward.",p)}}},methods:{async submitForm(){await this.v$.$validate()==!0&&await w.editProfile({name:this.name,email:this.email,password:this.password,confirm_password:this.confirm_password,phone_number:this.phone_number,province_id:this.province_id,district_id:this.district_id,ward_id:this.ward_id}).then(()=>{this.$router.push({name:"Home"})})},async fetchProvices(){const s=await q.getProvinces();this.provinces=s.data.data},async fetchDistricts(){const s=await C.getDistrictByProvince(this.province_id);this.districts=s.data.data},async fetchWards(){const s=await E.getWardByDistrictId(this.district_id);this.wards=s.data.data},async fetchUser(){const t=(await w.getUserById(k().user.id)).data.data;this.name=t.name,this.email=t.email,this.phone_number=t.phone_number,this.province_id=t.province_id,this.district_id=t.district_id,this.ward_id=t.ward_id}},watch:{province_id:function(s){this.fetchDistricts()},district_id:function(s){this.fetchWards()}},mounted(){this.fetchProvices(),this.fetchUser()}},u=s=>(V("data-v-21cc06da"),s=s(),N(),s),I={id:"signup"},W={class:"container"},L=u(()=>r("img",{src:F,alt:"logo1"},null,-1)),A=u(()=>r("h1",null,"Edit Profile",-1)),Y={class:"input-errors mb-3 text-center"},j=u(()=>r("label",{for:"name"},"User Name",-1)),z={class:"error-msg"},H=u(()=>r("label",{for:"email"},"E-Mail",-1)),T={class:"error-msg"},Z=u(()=>r("label",{for:"password"},"Phone Number",-1)),x={class:"error-msg"},G=u(()=>r("label",{for:"provinces"},"Province",-1)),J=["value"],K={class:"error-msg"},O=u(()=>r("label",{for:"password"},"District",-1)),Q=["value"],R={class:"error-msg"},X=u(()=>r("label",{for:"password"},"Ward",-1)),ee=["value"],se={class:"error-msg"};function re(s,t,te,ie,n,f){const g=S("router-link");return o(),i("section",I,[r("div",W,[D(g,{to:"/","aria-current":"page"},{default:M(()=>[L]),_:1}),A,r("h3",Y,d(n.errorCode),1),j,_(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.v$.name.$model=e),id:"name",placeholder:"User Name"},null,512),[[h,s.v$.name.$model]]),(o(!0),i(l,null,c(s.v$.name.$errors,(e,a)=>(o(),i("div",{class:"input-errors",key:a},[r("div",z,d(e.$message),1)]))),128)),H,_(r("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>s.v$.email.$model=e),readonly:"",id:"email",placeholder:"Email Address"},null,512),[[h,s.v$.email.$model]]),(o(!0),i(l,null,c(s.v$.email.$errors,(e,a)=>(o(),i("div",{class:"input-errors",key:a},[r("div",T,d(e.$message),1)]))),128)),Z,_(r("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.v$.phone_number.$model=e),id:"phone-number",placeholder:"Phone Number"},null,512),[[h,s.v$.phone_number.$model]]),(o(!0),i(l,null,c(s.v$.phone_number.$errors,(e,a)=>(o(),i("div",{class:"input-errors",key:a},[r("div",x,d(e.$message),1)]))),128)),G,_(r("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>n.province_id=e)},[(o(!0),i(l,null,c(n.provinces,e=>(o(),i("option",{value:e.id},d(e.name),9,J))),256))],512),[[v,n.province_id]]),(o(!0),i(l,null,c(s.v$.province_id.$errors,(e,a)=>(o(),i("div",{class:"input-errors",key:a},[r("div",K,d(e.$message),1)]))),128)),O,_(r("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>n.district_id=e)},[(o(!0),i(l,null,c(n.districts,e=>(o(),i("option",{value:e.id},d(e.name),9,Q))),256))],512),[[v,n.district_id]]),(o(!0),i(l,null,c(s.v$.district_id.$errors,(e,a)=>(o(),i("div",{class:"input-errors",key:a},[r("div",R,d(e.$message),1)]))),128)),X,_(r("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>n.ward_id=e)},[(o(!0),i(l,null,c(n.wards,e=>(o(),i("option",{value:e.id},d(e.name),9,ee))),256))],512),[[v,n.ward_id]]),(o(!0),i(l,null,c(s.v$.ward_id.$errors,(e,a)=>(o(),i("div",{class:"input-errors",key:a},[r("div",se,d(e.$message),1)]))),128)),r("button",{onClick:t[6]||(t[6]=(...e)=>f.submitForm&&f.submitForm(...e)),type:"button"},"Submit")])])}const ce=U(B,[["render",re],["__scopeId","data-v-21cc06da"]]);export{ce as default};
