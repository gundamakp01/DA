import{c,u as b,r as p,m as y,a as $,e as P}from"./index.e3c43ecb.js";import{_ as U,u as k,r as S,c as i,b as r,d as M,w as V,t as d,j as _,v as h,F as l,g as u,k as v,o,p as D,m as N}from"./index.caab877e.js";import{U as w}from"./UserService.4e4877b3.js";import{P as q,D as C,W as E}from"./DistrictService.27d629f1.js";import{_ as F}from"./logo.d15f1ef9.js";c.regex(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,20}$/);const B={name:"signup",setup:()=>({v$:b()}),data(){return{name:"",email:"",password:"",confirm_password:"",phone_number:"",errorCode:"",provider:"",province_id:null,provinces:[],district_id:null,districts:[],ward_id:null,wards:[]}},validations(){return{name:{required:c.withMessage("* Please type Your User Name.",p),minLength:y(3),maxLength:$(20)},email:{required:c.withMessage("* Please type Your Email Address.",p),email:P},phone_number:{required:c.withMessage("* Please type Your Phone Number.",p)},province_id:{required:c.withMessage("* Please select your province.",p)},district_id:{required:c.withMessage("* Please select your district.",p)},ward_id:{required:c.withMessage("* Please select your ward.",p)}}},methods:{async submitForm(){await this.v$.$validate()==!0&&await w.editProfile({name:this.name,email:this.email,password:this.password,confirm_password:this.confirm_password,phone_number:this.phone_number,province_id:this.province_id,district_id:this.district_id,ward_id:this.ward_id}).then(()=>{this.$router.push({name:"Home"})})},async fetchProvices(){const s=await q.getProvinces();this.provinces=s.data.data},async fetchDistricts(){const s=await C.getDistrictByProvince(this.province_id);this.districts=s.data.data},async fetchWards(){const s=await E.getWardByDistrictId(this.district_id);this.wards=s.data.data},async fetchUser(){const t=(await w.getUserById(k().user.id)).data.data;this.name=t.name,this.email=t.email,this.phone_number=t.phone_number,this.province_id=t.province_id,this.district_id=t.district_id,this.ward_id=t.ward_id}},watch:{province_id:function(s){this.fetchDistricts()},district_id:function(s){this.fetchWards()}},mounted(){this.fetchProvices(),this.fetchUser()}},m=s=>(D("data-v-f70f47b9"),s=s(),N(),s),I={id:"signup"},L={class:"container"},W=m(()=>r("img",{src:F,alt:"logo1"},null,-1)),A=m(()=>r("h1",null,"Edit Profile",-1)),T={class:"input-errors mb-3 text-center"},Y=m(()=>r("label",{for:"name"},"User Name",-1)),H={class:"error-msg"},j=m(()=>r("label",{for:"email"},"E-Mail",-1)),z={class:"error-msg"},Q=m(()=>r("label",{for:"password"},"Phone Number",-1)),X={class:"error-msg"},Z=m(()=>r("label",{for:"provinces"},"T\u1EC9nh/ Th\xE0nh ph\u1ED1",-1)),x=["value"],G={class:"error-msg"},J=m(()=>r("label",{for:"password"},"Qu\u1EADn/ Huy\u1EC7n",-1)),K=["value"],O={class:"error-msg"},R=m(()=>r("label",{for:"password"},"X\xE3/ Ph\u01B0\u1EDDng",-1)),ee=["value"],se={class:"error-msg"};function re(s,t,te,ie,a,f){const g=S("router-link");return o(),i("section",I,[r("div",L,[M(g,{to:"/","aria-current":"page"},{default:V(()=>[W]),_:1}),A,r("h3",T,d(a.errorCode),1),Y,_(r("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>s.v$.name.$model=e),id:"name",placeholder:"User Name"},null,512),[[h,s.v$.name.$model]]),(o(!0),i(l,null,u(s.v$.name.$errors,(e,n)=>(o(),i("div",{class:"input-errors",key:n},[r("div",H,d(e.$message),1)]))),128)),j,_(r("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>s.v$.email.$model=e),readonly:"",id:"email",placeholder:"Email Address"},null,512),[[h,s.v$.email.$model]]),(o(!0),i(l,null,u(s.v$.email.$errors,(e,n)=>(o(),i("div",{class:"input-errors",key:n},[r("div",z,d(e.$message),1)]))),128)),Q,_(r("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>s.v$.phone_number.$model=e),id:"phone-number",placeholder:"Phone Number"},null,512),[[h,s.v$.phone_number.$model]]),(o(!0),i(l,null,u(s.v$.phone_number.$errors,(e,n)=>(o(),i("div",{class:"input-errors",key:n},[r("div",X,d(e.$message),1)]))),128)),Z,_(r("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=e=>a.province_id=e)},[(o(!0),i(l,null,u(a.provinces,e=>(o(),i("option",{value:e.id},d(e.name),9,x))),256))],512),[[v,a.province_id]]),(o(!0),i(l,null,u(s.v$.province_id.$errors,(e,n)=>(o(),i("div",{class:"input-errors",key:n},[r("div",G,d(e.$message),1)]))),128)),J,_(r("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=e=>a.district_id=e)},[(o(!0),i(l,null,u(a.districts,e=>(o(),i("option",{value:e.id},d(e.name),9,K))),256))],512),[[v,a.district_id]]),(o(!0),i(l,null,u(s.v$.district_id.$errors,(e,n)=>(o(),i("div",{class:"input-errors",key:n},[r("div",O,d(e.$message),1)]))),128)),R,_(r("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=e=>a.ward_id=e)},[(o(!0),i(l,null,u(a.wards,e=>(o(),i("option",{value:e.id},d(e.name),9,ee))),256))],512),[[v,a.ward_id]]),(o(!0),i(l,null,u(s.v$.ward_id.$errors,(e,n)=>(o(),i("div",{class:"input-errors",key:n},[r("div",se,d(e.$message),1)]))),128)),r("button",{onClick:t[6]||(t[6]=(...e)=>f.submitForm&&f.submitForm(...e)),type:"button"},"Submit")])])}const ue=U(B,[["render",re],["__scopeId","data-v-f70f47b9"]]);export{ue as default};
