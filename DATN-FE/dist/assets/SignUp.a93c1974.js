import{c as u,u as y,r as c,m as I,a as P,e as U}from"./index.f2c07c68.js";import{_ as k,r as M,c as o,b as r,d as f,w as $,t as a,j as v,v as h,F as d,f as l,k as _,o as t,p as S,m as q}from"./index.e681a6ad.js";import{U as V}from"./UserService.faccd78c.js";import{P as C,D,W as N}from"./DistrictService.05328860.js";import{_ as F}from"./logo.d15f1ef9.js";const b=u.regex(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,20}$/),L={name:"signup",setup:()=>({v$:y()}),data(){return{name:"",email:"",password:"",confirm_password:"",phone_number:"",errorCode:"",provider:"",provinceId:null,provinces:[],districtId:null,districts:[],wardId:null,wards:[]}},validations(){return{name:{required:u.withMessage("* Please type Your User Name.",c),minLength:I(3),maxLength:P(20)},email:{required:u.withMessage("* Please type Your Email Address.",c),email:U},password:{required:u.withMessage("* Please type Your Password.",c),pass:u.withMessage("* Must contain at least one number and one uppercase and lowercase letter required.",b)},confirm_password:{required:u.withMessage("* Please Confirm Your Password.",c),pass:u.withMessage("* Must contain at least one number and one uppercase and lowercase letter required.",b)},phone_number:{required:u.withMessage("* Please type Your Phone Number.",c)},provinceId:{required:u.withMessage("* Please select your province.",c)},districtId:{required:u.withMessage("* Please select your district.",c)},wardId:{required:u.withMessage("* Please select your ward.",c)}}},methods:{async submitForm(){await this.v$.$validate()==!0&&await V.signup({name:this.name,email:this.email,password:this.password,confirm_password:this.confirm_password,phone_number:this.phone_number,province_id:this.provinceId,district_id:this.districtId,ward_id:this.wardId}).then(()=>{this.$router.push({name:"Home"})})},async fetchProvices(){const s=await C.getProvinces();this.provinces=s.data.data},async fetchDistricts(){const s=await D.getDistrictByProvince(this.provinceId);this.districts=s.data.data},async fetchWards(){const s=await N.getWardByDistrictId(this.districtId);this.wards=s.data.data}},watch:{provinceId:function(s){this.fetchDistricts()},districtId:function(s){this.fetchWards()}},mounted(){this.fetchProvices()}},m=s=>(S("data-v-39011bdb"),s=s(),q(),s),W={id:"signup"},B={class:"container"},Y=m(()=>r("img",{src:F,alt:"logo1"},null,-1)),E=m(()=>r("h1",null,"Sign Up",-1)),A={class:"input-errors mb-3 text-center"},j=m(()=>r("label",{for:"name"},"User Name",-1)),z={class:"error-msg"},H=m(()=>r("label",{for:"email"},"E-Mail",-1)),T={class:"error-msg"},Z=m(()=>r("label",{for:"password"},"Password",-1)),G={class:"error-msg"},J=m(()=>r("label",{for:"confirm-password"},"Confirm Password",-1)),K={class:"error-msg"},O=m(()=>r("label",{for:"phone-number"},"Phone Number",-1)),Q={class:"error-msg"},R=m(()=>r("label",{for:"province"},"Province",-1)),X=["value"],x={class:"error-msg"},ee=m(()=>r("label",{for:"district"},"District",-1)),se=["value"],re={class:"error-msg"},oe=m(()=>r("label",{for:"ward"},"Ward",-1)),te=["value"],ie={class:"error-msg"},ne=m(()=>r("h4",null,"Login",-1));function ae(s,i,de,le,p,w){const g=M("router-link");return t(),o("section",W,[r("div",B,[f(g,{to:"/","aria-current":"page"},{default:$(()=>[Y]),_:1}),E,r("h3",A,a(p.errorCode),1),j,v(r("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>s.v$.name.$model=e),id:"name",placeholder:"User Name"},null,512),[[h,s.v$.name.$model]]),(t(!0),o(d,null,l(s.v$.name.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",z,a(e.$message),1)]))),128)),H,v(r("input",{type:"email","onUpdate:modelValue":i[1]||(i[1]=e=>s.v$.email.$model=e),id:"email",placeholder:"Email Address"},null,512),[[h,s.v$.email.$model]]),(t(!0),o(d,null,l(s.v$.email.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",T,a(e.$message),1)]))),128)),Z,v(r("input",{type:"password","onUpdate:modelValue":i[2]||(i[2]=e=>s.v$.password.$model=e),id:"password",placeholder:"Password"},null,512),[[h,s.v$.password.$model]]),(t(!0),o(d,null,l(s.v$.password.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",G,a(e.$message),1)]))),128)),J,v(r("input",{type:"password","onUpdate:modelValue":i[3]||(i[3]=e=>s.v$.confirm_password.$model=e),id:"confirm-password",placeholder:"Confirm Password"},null,512),[[h,s.v$.confirm_password.$model]]),(t(!0),o(d,null,l(s.v$.confirm_password.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",K,a(e.$message),1)]))),128)),O,v(r("input",{type:"text","onUpdate:modelValue":i[4]||(i[4]=e=>s.v$.phone_number.$model=e),id:"phone-number",placeholder:"Phone Number"},null,512),[[h,s.v$.phone_number.$model]]),(t(!0),o(d,null,l(s.v$.phone_number.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",Q,a(e.$message),1)]))),128)),R,v(r("select",{class:"form-select","onUpdate:modelValue":i[5]||(i[5]=e=>p.provinceId=e)},[(t(!0),o(d,null,l(p.provinces,e=>(t(),o("option",{value:e.id},a(e.name),9,X))),256))],512),[[_,p.provinceId]]),(t(!0),o(d,null,l(s.v$.provinceId.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",x,a(e.$message),1)]))),128)),ee,v(r("select",{class:"form-select","onUpdate:modelValue":i[6]||(i[6]=e=>p.districtId=e)},[(t(!0),o(d,null,l(p.districts,e=>(t(),o("option",{value:e.id},a(e.name),9,se))),256))],512),[[_,p.districtId]]),(t(!0),o(d,null,l(s.v$.districtId.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",re,a(e.$message),1)]))),128)),oe,v(r("select",{class:"form-select","onUpdate:modelValue":i[7]||(i[7]=e=>p.wardId=e)},[(t(!0),o(d,null,l(p.wards,e=>(t(),o("option",{value:e.id},a(e.name),9,te))),256))],512),[[_,p.wardId]]),(t(!0),o(d,null,l(s.v$.wardId.$errors,(e,n)=>(t(),o("div",{class:"input-errors",key:n},[r("div",ie,a(e.$message),1)]))),128)),r("button",{onClick:i[8]||(i[8]=(...e)=>w.submitForm&&w.submitForm(...e)),type:"button"},"Sign Up"),f(g,{to:"/login",class:"link"},{default:$(()=>[ne]),_:1})])])}const he=k(L,[["render",ae],["__scopeId","data-v-39011bdb"]]);export{he as default};
