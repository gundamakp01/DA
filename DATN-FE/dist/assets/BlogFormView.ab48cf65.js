import{_ as d,c as m,b as t,j as n,v as r,i as c,Q as b,o as u}from"./index.340d75fa.js";import{B as a}from"./BlogService.a61de6ac.js";const p={data(){return{blog:{},url:""}},methods:{async submit(){this.$route.params.id?await a.updateBlog(this.$route.params.id,this.blog):await a.createBlog(this.blog),this.$router.push({name:"blogs"})},uploadFile(){this.blog.image=this.$refs.file.files[0],this.url=URL.createObjectURL(this.blog.image)},async fetchBlog(){const l=await a.getBlogById(this.$route.params.id);l&&(this.blog=l.data.data,this.url=this.blog.image.url)}},mounted(){this.$route.params.id&&this.fetchBlog()}},g={class:"mb-3"},f=t("label",null,"Name",-1),h={class:"mb-3"},_=t("label",null,"Description",-1),B={class:"mb-3"},v=t("label",null,"Content",-1),y={class:"mb-3"},w=t("label",{for:"formFile",class:"form-label"},"Image",-1),x=["src"],k={class:"text-center"},F=t("button",{type:"submit",class:"btn btn-primary me-2"},"Submit",-1);function V(l,e,U,C,s,i){return u(),m("form",{onSubmit:e[5]||(e[5]=b(o=>i.submit(),["prevent"]))},[t("div",g,[f,n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>s.blog.name=o)},null,512),[[r,s.blog.name]])]),t("div",h,[_,n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=o=>s.blog.description=o)},null,512),[[r,s.blog.description]])]),t("div",B,[v,n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=o=>s.blog.content=o)},null,512),[[r,s.blog.content]])]),t("div",y,[w,t("input",{class:"form-control",type:"file",id:"formFile",ref:"file",onChange:e[3]||(e[3]=(...o)=>i.uploadFile&&i.uploadFile(...o))},null,544),s.url?(u(),m("img",{key:0,class:"mt-2 border",width:"120",height:"100",src:s.url,alt:""},null,8,x)):c("",!0)]),t("div",k,[F,t("button",{type:"button",class:"btn btn-secondary",onClick:e[4]||(e[4]=o=>l.$router.back())},"Back")])],32)}const j=d(p,[["render",V]]);export{j as default};
